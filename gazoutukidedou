<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ã‚­ãƒ¼ã©ã“ï¼Ÿ - JISã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è¨˜å·æ¤œç´¢ãƒ„ãƒ¼ãƒ«</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: sans-serif;
      padding: 1em;
      background: #f9f9f9;
    }
    h1 {
      text-align: center;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      font-size: 1.2em;
      margin: 10px 0;
    }
    .result {
      background: #fff;
      padding: 1em;
      border-radius: 5px;
      box-shadow: 0 0 5px #ccc;
    }
    .key-info {
      font-size: 1.1em;
      margin: 10px 0;
    }
    .key {
      display: inline-block;
      padding: 5px 10px;
      background: #eee;
      border-radius: 4px;
      font-weight: bold;
      margin-right: 4px;
    }
    .shift { background: #ffd; border: 1px solid #cc0; }
    .fn { background: #cff; border: 1px solid #09c; }

    .keyboard-container {
      position: relative;
      max-width: 100%;
      margin-top: 1em;
    }
    .keyboard-container img {
      width: 100%;
      height: auto;
    }
    #highlight {
      position: absolute;
      border: 3px solid red;
      border-radius: 6px;
      pointer-events: none;
      display: none;
    }
  </style>
</head>
<body>
  <h1>ğŸ” ã‚­ãƒ¼ã©ã“ï¼Ÿ</h1>
  <p>æ¢ã—ãŸã„è¨˜å·ã‚„ã‚­ãƒ¼ã®åå‰ã‚’å…¥åŠ›ã—ã¦ã­ï¼ˆä¾‹ï¼šã€Œï¼ã€ã€Œhomeã€ã€ŒCaps Lockã€ã€Œçµµæ–‡å­—ã€ãªã©ï¼‰ï¼š</p>
  <input type="text" id="search" placeholder="ä¾‹ï¼šï¼Ÿã€!â€Homeâ€ã€Caps Lockã€Emojiãªã©" />

  <div class="result" id="result"></div>

  <div class="keyboard-container">
    <img id="keyboard-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1YAAAEACAYAAACwFOeoAAEAAElEQVR4nGz9e7B1XXbehf3GmHOtfc..." />
    <div id="highlight"></div>
  </div>

  <script>
    const normalize = str => str.trim().toLowerCase().replace(/[â€œâ€"ï¼œï¼]/g, m => ({
      "â€œ": "\"", "â€": "\"", "ï¼œ": "<", "ï¼": ">"
    }[m] || m));

    const keyMap = {
      "ï¼": { key: "1", shift: true, pos: "ä¸Šæ®µå·¦", img: {x: 6.2, y: 7, w: 3.6, h: 11} },
      "ï¼Ÿ": { key: "/", shift: true, pos: "å³ä¸‹", img: {x: 83.4, y: 55, w: 3.6, h: 11} },
      "ã€": { key: "ã­", shift: false, pos: "å³ä¸‹", img: {x: 76, y: 55, w: 3.6, h: 11} },
      "ã€‚": { key: "ã‚‹", shift: false, pos: "å³ä¸‹", img: {x: 79.7, y: 55, w: 3.6, h: 11} },
      "ï¼ ": { key: "2", shift: true, pos: "ä¸Šæ®µå·¦", img: {x: 13.6, y: 7, w: 3.6, h: 11} },
      "<": { key: "ã­", shift: true, pos: "å³ä¸‹", img: {x: 76, y: 55, w: 3.6, h: 11} },
      ">": { key: "ã‚", shift: true, pos: "å³ä¸‹", img: {x: 87.2, y: 55, w: 3.6, h: 11} },
      "/": { key: "/", shift: false, pos: "å³ä¸‹", img: {x: 83.4, y: 55, w: 3.6, h: 11} },
      ",": { key: "ã­", shift: false, pos: "å³ä¸‹", img: {x: 76, y: 55, w: 3.6, h: 11} },
      "caps lock": { key: "Caps Lock", shift: false, pos: "å·¦ä¸‹", img: {x: 0.5, y: 43, w: 6.8, h: 11} },
      "shift": { key: "Shift", shift: false, pos: "å·¦å³ä¸‹", img: {x: 0.5, y: 55, w: 10.5, h: 11} },
      "space": { key: "Space", shift: false, pos: "ä¸­å¤®ä¸‹", img: {x: 36, y: 68.5, w: 26, h: 11} },
      "home": { key: "7", fn: true, pos: "ãƒ†ãƒ³ã‚­ãƒ¼ä¸Š", img: {x: 73.2, y: 29, w: 3.6, h: 11} },
      "emoji": { key: "Windows + .", fn: false, pos: "å·¦ä¸‹ï¼‹ä»»æ„", img: {x: 19.7, y: 68.5, w: 3.6, h: 11} },
      "windows": { key: "Windows", fn: false, pos: "å·¦ä¸‹", img: {x: 19.7, y: 68.5, w: 3.6, h: 11} },
      ".": { key: "ã‚‹", shift: false, pos: "å³ä¸‹", img: {x: 79.7, y: 55, w: 3.6, h: 11} }
    };

    const searchInput = document.getElementById("search");
    const result = document.getElementById("result");
    const highlight = document.getElementById("highlight");

    searchInput.addEventListener("input", () => {
      const input = normalize(searchInput.value);
      if (input in keyMap) {
        const info = keyMap[input];
        const parts = [];
        if (info.shift) parts.push('<span class="key shift">Shift</span>');
        if (info.fn) parts.push('<span class="key fn">Fn</span>');
        parts.push(`<span class="key">${info.key}</span>`);

        result.innerHTML = `
          <div class="key-info">ã€Œ${searchInput.value}ã€ã¯ ${parts.join(" + ")} ã®ã‚­ãƒ¼ã«ã‚ã‚Šã¾ã™ã€‚<br />
          ä½ç½®ã®ç›®å®‰ï¼š${info.pos}</div>
        `;

        if (info.img) {
          highlight.style.left = info.img.x + "%";
          highlight.style.top = info.img.y + "%";
          highlight.style.width = info.img.w + "%";
          highlight.style.height = info.img.h + "%";
          highlight.style.display = "block";
        } else {
          highlight.style.display = "none";
        }
      } else {
        result.innerHTML = "<div class='key-info'>ãã®ã‚­ãƒ¼ã¯ã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</div>";
        highlight.style.display = "none";
      }
    });
  </script>
</body>
</html>
